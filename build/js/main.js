(()=>{"use strict";const e=window.wp.i18n;jQuery(document).ready(function(t){t(document).on("click","#gemini-clear-button",function(){t("#gemini_prompt").val(""),t("#gemini-preview").empty()}),t(document).on("click","#gemini-generate-button",function(){var i=t(this),a=t("#gemini_prompt").val();if(!a)return void alert((0,e.__)("Please enter a prompt."));const n=t("#gemini-preview");n.empty(),i.prop("disabled",!0),i.text((0,e.__)("Generating...")),t.post(geminiImgGen.ajaxURL,{action:"gemini_img_generate_image",prompt:a,nonce:geminiImgGen.nonce},function(i){if(!i.success)return void alert((0,e.__)("Error: ")+i.data.message);const a=t("<span>").text((0,e.__)("Click on the image to upload")).attr("class","gemini-info-message"),s=t("<button>").attr("id","gemini-image-button").attr("data-title",i.data.title).attr("data-alt",i.data.alt),o=t("<img>").attr("src",i.data.image).attr("alt",i.data.alt||(0,e.__)("Generated Image")).attr("class","gemini-generated-image");s.append(o),n.empty().append(s),n.append(a)}).always(function(){i.prop("disabled",!1),i.text((0,e.__)("Generate"))})}),t(document).on("click","#gemini-image-button",function(){const i=t(this);var a=t(this).data("title"),n=t(this).data("alt"),s=t(this).find("img").attr("src"),o=t(".gemini-info-message");i.prop("disabled",!0),o.text((0,e.__)("Inserting image...")),o.addClass("spinner is-active"),t.post(geminiImgGen.ajaxURL,{action:"gemini_img_upload_image",title:a,alt:n,image:s,nonce:geminiImgGen.nonce},function(i){if(!i.success)return void alert((0,e.__)("Error: ")+i.data.message);const a=t("<div>").addClass("notice notice-success").text((0,e.__)("Image inserted successfully! Please refresh the page and check the media library."));t("#gemini-preview").empty().append(a)}).fail(function(){alert((0,e.__)("Failed to insert image."))}).always(function(){i.prop("disabled",!1),o.text((0,e.__)("Click on the image to upload")),o.removeClass("spinner is-active")})})})})();
//# sourceMappingURL=main.js.map